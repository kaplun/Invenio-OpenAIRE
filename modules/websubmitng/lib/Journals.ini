[submissionInterface]
    description= "This is the inteface to submit bla bla bla."
    [[fields]]
        title= "Title(element_id='2', marc_field=200, rows=5, cols=50, label='Title')"
        authors= "Authors(element_id='1', marc_field=100, rows=5, cols=50, label='Authors')"
        abstract= "TextArea(element_id='3', marc_field=200, rows=5, cols=50, label='Abstract')"
        [[[table]]]
            [[[[header]]]]
                col1= "NoPages"
                col2= "Language"
            [[[[row1]]]]
	        num_pages= "TextInput(element_id='4', marc_field=300, label='Num_Pages')"
                language= "Language(element_id='6', marc_field=400, options_name_value_pairs=[('en', 'English'), ('fr', 'French')], label='Language')"
        [[[fieldset]]]
            legend= "File Upload:"
            file= "FileInput(element_id='5', marc_field=500, label='File')"
    [[fields1]]
        submit= "ButtonInput(element_id='7', button_type='submit', value='submit')"
    [[checks]]
        authors = "RegexpMatcher(r"\w+,\s*\w+(:\s*.+)(\n\w+,\s*(:\s*.+))*", "The author is not valid")"

[approvalInterface]
    [[fields]]
        decision="Select(element_id='1', marc_field=600, options_name_value_pairs=[('approve','approve'), ('reject', 'reject')], label='Choose:')"
        submit="ButtonInput(element_id='2', button_type='submit', value='submit')"
    [[checks]]

[workflow1]
    submit = """[
	buildInterface('submissionInterface'), 
	checkValues('submissionInterface'),
        sendEmails('nein@cern.ch', 'rsripada@cern.ch', 'Submitted', 'Pending Approval: '), 
        buildInterface('approvalInterface'), 
        checkValues('approvalInterface'), 
        [if_else(checkApprovalStatus()), [
            createUploadRecord(),
            sendEmails('nein@cern.ch', 'rsripada@cern.ch', 'Approved', 'Submission approved.\n'),
	], [
	    sendEmails('nein@cern.ch', 'rsripada@cern.ch', 'Rejected', 'Submission rejected.\n'),
        ]]]"""
